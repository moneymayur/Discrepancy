(function(){_weq["webengage.enableCallbacks"]=true;_weq["webengage._gaTracker"]=(webengage_fs_configurationMap._gaTracker?webengage_fs_configurationMap._gaTracker+".":"")+"_trackEvent";function a(d,c,b,e,f){if(typeof ga==="function"&&typeof _gaq==="undefined"){ga("send","event",{eventCategory:d,eventAction:c,eventLabel:b,eventValue:e,nonInteraction:(typeof f==="boolean"&&f?1:0)})}else{_gaq.push([_weq["webengage._gaTracker"],d,c,b,e,(typeof f==="boolean"&&f?true:false)])}}_weq["gaq.push"]=function(c,b){webengage.withELog(function(){switch(c){case"survey":webengage.survey.attachEventListner(b,function(d){webengage.withELog(function(){switch(b){case"submit":var f=d.questionResponses;var e=function(j){if(j instanceof Array){return j.join(",")}else{return webengage.util.stringify(j)}};if(f&&f.length>0){for(var g=0;g<f.length;g++){var i=f[g];var h;switch(i.value["@class"]){case"text":h=i.value.text;break;case"file":h=i.value.fileName+" | "+i.value.fileSize;break;case"score":h=i.value.value;break;default:h=e(i.value.values);break}a("WebEngage-Survey","survey-question-response ( "+h+" )","Question [S:"+d.surveyId+"] [Q:"+i.questionId+"] "+i.questionText)}}break;default:if(b==="complete"){a("WebEngage-Survey","survey-"+b,"Survey [S:"+d.surveyId+"] "+d.title,d.questionResponses.length)}if(b==="open"){a("WebEngage-Survey","survey-"+b,"Survey [S:"+d.surveyId+"] "+d.title,undefined,true)}break}},null,true)});break;case"notification":webengage.notification.attachEventListner(b,function(d){webengage.withELog(function(){if(b==="open"){a("WebEngage-Notification","notification-"+b,"Notification [N:"+d.notificationId+"] "+d.title,undefined,true)}else{a("WebEngage-Notification","notification-"+b,"Notification [N:"+d.notificationId+"] "+d.title)}},null,true)});break;case"feedback":webengage.feedback.attachEventListner(b,function(d){webengage.withELog(function(){switch(b){case"submit":var e=d.fields;var g="Anonymous";for(var f in e){if(e[f]&&e[f].value){var h=e[f].value;if(h["@class"]==="email"){g=h.text;break}}}a("WebEngage-Feedback","feedback-submit","By "+g);break;default:a("WebEngage-Feedback","feedback-"+b);break}},null,true)});break}},null,true)};_weq["webengage.gaEvents"]={feedback:["open","submit"],survey:["open","close","submit","complete"],notification:["open","close","click"]};webengage.withELog(function(){for(var c in _weq["webengage.gaEvents"]){for(var b=0;b<_weq["webengage.gaEvents"][c].length;b++){_weq["gaq.push"](c,_weq["webengage.gaEvents"][c][b])}}},null,true)})();